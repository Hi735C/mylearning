# linux命令

## 文件和目录操作

### **pwd**

1. -L 显示逻辑路径
2. -P 显示物理路径

### **cd**

### **tree** 

​	tree [option] [directory]

1. -a 显示所有文件
2. -d 只显示文件
3. -f 显示全路径
4. -i 不显示树枝 与f同用
5. -L level
6. -F 

### mkdir

1.  -p 递归创建
2.  -m 
3. -v 显示创建目录过程

### touch

1. -a 只修改指定文件的最后访问时间
2. -m 只修改指定文件的最后修改时间
3. -d string
4. -r file
5. -t STAMP

### ls

1. -l
2. -a
3. -t   根据最后的修改时间(mtime)排序
4. -r 以相反次序排序

------



### cp

1. -p 保持源文件的所有者/权限信息/时间属性
2. -d
3. -r 递归
4. -a 等同于pdr三个选项总和
5. -i 覆盖前提醒用户确认

### mv

1. -f 目标存在,不询问直接覆盖
2. -i 目标存在询问是否覆盖
3. -n 目标存在不覆盖
4. -u 源文件比目标文件新/目标不存在 移动

------



### rm

1. -f 强制删除
2. -i 删除前确认
3. -I 删除超过三个文件或者递归删除前确认
4. -r 递归删除

### rmdir

1. -p
2. -v 显示命令执行过程

------



### ln  软硬链接 

1. -s 软连接

### readlink 查看符号连接文件的内容

### find 查找目录下的文件

### xargs 将标准输入转换成命令行参数

### rename 重命名文件

------



### basename 显示文件名和目录名

### dirname 显示文件或目录路径

------



### chattr 改变文件扩展属性

1. -R 递归更改目录属性
2. -V 显示命令执行过程

mode  +-=

​			A  不修改文件的最后访问时间

​			a 只能向文件添加数据,不能删除

​			i 文件不能删除改名写入新增内容

### lsattr 显示文件扩展属性

1. -R 递归查询
2. -a 显示所有文件
3. -d 显示目录的扩展属性

------



### file 显示文件类型

### md5sum 计算和校验文件的MD5值

------



### chown

1. -R 递归

### chmod

1. -R

### chgrp

chgrp [option] [group] [file]

1. -R

### umask

------

## 文件过滤及内容编辑处理

### cat                                  不改变源文件

1. -n 编行号显示
2. -b 与n相同但是忽略空白行
3. -s 合并多个空行

### tac 反向显示文件内容 不改变源文件

123       tac       436

436                    123

------



### more

### less

------



### head

### tail

------



### tailf 跟踪日志文件

1. -n<行数>

------



### cut 从文本中提取一段文字并输出

1. -b  以字节单位
2. -n 取消分割多字节字符,与-b一起用
3. -c 以字符为单位
4. **-d 自定义分割符 默认tab**
5. **-f 与-d 连用 指定显示哪个区域**
6. N
7. N-
8. N-M
9. -M

------



### split 分割文件

### paste 合并文件

1. -d 指定合并分割符
2. -s 每个文件占用一行

------



### sort 文本排序

1. -b 忽略每行开头的空格
2. -n 按大小
3. -r 倒序
4. -u 去重
5. -t 指定分隔符
6. -k 按指定区间排序 k3 k4.1,4.3

### join 按两个文件的相同字段合并

 join前先sort

### uniq 去除重复行

1. -c 去重并计算重复出现次数
2. -d 只显示重复行
3. -u 只显示唯一行

### wc

### iconv 准换文件的编码格式

### dos2unix

 windows编写shell脚本 转换为linux使用

------



### diff 比较纯文本文件差异

1. -y 并列显示
2. -W 指定现实宽度
3. -c 使用上下文输出格式
4. -u 使用统一输出格式

### vimdiff 可视化比较

------



### rev 反向输出文件内容

123 rev 321

456        654

### tr替换删除字符

tr [option] SET1 SET2

1. -d 删除字符
2. -s 保留连续字符的第一个 删除其他的 
3. -c 使用第一个字符串的补集,取反 

```
#删除空行
tr -d '\n' <f1
#压缩空格
tr -s ' '  <f2
```



### od

### tee多重定向

1. -a 向文件追加内容

### vi/vim

## 文本处理

### grep     文本过滤

1. -v 显示不匹配的行(可用于去空行)
2. -w 只匹配过滤的单词
3. -o 只输出匹配的内容
4. -E
5. -A 后几行
6. -B 前几行
7. -C 前后几行

### sed (流编辑器按行处理)       文本修改

sed [option] [sed内置命令] 输入文件

1. -n 取消默认输出 与p连用
2. -i 直接修改不输出到终端 只修改内存数据不写入磁盘

内置命令

1. a 追加
2. d 匹配行的文本
3. i 插入 行前插入
4. p 打印匹配行的内容
5. s/regexp/replacement 

### awk

awk [option] 'pattern{action}' file

1. -F 指定字段分隔符
2. -v 定义或修改一个awk内部的变量





## 信息显示与文件检索

### uname

1. -a 所有信息
2. -m 计算机硬件架构
3. **-n 主机名称**
4. **-r 内核发行版本号**
5. -s 内核名称
6. -v 内核版本
7. -p 处理器类型
8. -o 操作系统名称
9. -i 硬件平台

### hostname

1. -a 显示主机别名
2. -i 显示主机IP 依赖DNS解析 (本机的dns解析)
3. -I 显示主机所有IP 不依赖DNS解析 **推荐使用**
4. -s 显示短格式主机名

### dmesg 系统启动异常诊断

/var/log/dmesg

1. -c 显示信息后清楚缓冲区内容
2. -s bufsize 设置缓冲区大小
3. -n level 显示消息等级

### stat 显示文件/文件系统状态

stat [option] [file]

1. -f 文件所在分区的文件系统状态
2. **-c 使用指定输出格式**
3. -t 使用简介输出格式

### du统计磁盘空间使用情况

du option file

1. -a 所有文件大小
2. -h 方便查看方式
3. -s 文件总大小

### date显示设置时间

date option 日期格式

1. -d 时间字符串
2. -f 时间文件
3. -r 文件 指定文件最后修改时间
4. -s 设置系统时间
5. -u 显示或设置UTC时间

### echo

### watch 监视命令执行情况

watch option 命令

1. -n 命令执行间隔 默认2s
2. -d 高亮显示变动
3. -t 

### which

### whereis

1. -b 可执行文件
2. -m 帮助文档
3. -s 源代码

### locate

1. -c 只显示匹配行数
2. -i 忽略大小写
3. -r 基本正则表达式
4. --regex 扩展的正则表达式

### updatedb 更新mlocate数据库









## 文件备份压缩

### tar

1. -zcvf 文件名 文件
2. zxvf   文件   解压
3. ztvf    不解压只查看

### gzip 压缩后会删除源文件

### zip

### unzip



### scp远程文件复制

scp option 主机1文件 主机2文件

### rsync 文件同步

rsync 选项 源文件 目标文件

 





## 用户管理及用户信息查询

### useradd

1. -c
2. -d home_dir
3. -e
4. -f
5. -g initial_group
6. -G
7. -m
8. -M 不创建家目录
9. -n
10. -r 创建系统用户
11. -s shell 指定shell
12. -u uid

### usermod 修改用户信息

1. -c
2. -d
3. -e
4. -f
5. -g
6. -G
7. -m
8. -M
9. -n
10. -r
11. -s
12. -u
13. -a 追加用户到用户组,与-G连用
14. -l 修改用户的账号名称
15. -L 锁定用户密码
16. -U 解除密码锁定

### userdel

1. -f 强制删除
2. -r 删除用户的同时,删除与用户相关的文件

### groupadd 创建新的用户组

1. -g gid
2. -f 新增强制覆盖一个已存在的组账号

### groupdel



### passwd 修改用户密码

1. -k 更新密码有效期
2. -l 锁定用户
3. -u 解除锁定
4. --stdin **从标准输入读取密码字符串**   (所有用户都可以使用)
5. -d 删除用户密码
6. -e 使用户密码过期
7. -n 设置密码最短天数
8. -x 修改密码最长天数
9. -w 设置密码过期警告天数
10. -i 密码过期后几天禁用账户
11. -S 显示用户密码相关的简单描述

### chage 修改用户密码有效期

1. -d 设置上一次密码更改日期
2. -E 账号过期日期 YYYY-MM-DD
3. -I 密码过期后几天禁用账户
4. -l 显示账号有效期的信息
5. -m 密码可更改的最小天数
6. -M 密码保持的有效的最大天数
7. -W 密码到期前,提前警告的天数

### chpasswd 批量更新用户密码

```shell
chpasswd
root:123456
www:123456
```

1. -e 加密密码

### su 切换用户



### visudo 编辑sudoers文件

1. -c 检查语法

### sudo

1. -l
2. -h
3. -H
4. -V
5. -v
6. -u
7. -k
8. -K
9. -b
10. -p
11. -e

### id显示用户与用户组信息

1. -g gid
2. -G 用户组gid
3. -n 显示用户
4. -r 实际id
5. -u uid

### w 显示已登录的用户信息

1. -h 不显示前两行的标题信息
2. -u 忽略执行程序名称以及CPU时间信息
3. -s 短输出格式

## who显示已登录的用户信息

1. -a all
2. -b 系统启动时间
3. -d 已死进程
4. -H 显示标题
5. -l 显示登陆进程

### users显示已登录的用户

### whoami

### last显示用户登陆列表 -n

### lastb显示用户登陆失败记录 -n

### lastlog显示用户最近的登陆状态

# 



# 磁盘与文件系统管理命令

### fdisk磁盘分区  -l 

### partprobe 更新内核的硬盘分区表信息

1. -d 不更新
2. -s 显示摘要和分区

### tune2fs 调整ext2/ext3/ext4 文件系统参数

1. -c **设置强制自检的挂载次数**
2. -C 设置文件系已经被挂载次数
3. -i **设置强制自建时间间隔**(天/周/月)
4. -j ext2转化为ext3
5. -l **查看**

### parted 磁盘分区工具

1. -l  显示
2. -h 帮助

### mkfs创建linux文件系统

1. -t **指定创建的文件系统类型**
2. -c 创建文件系统时检查磁盘坏道
3. -v 显示详细信息

### dumpe2fs导出ext2/3/4文件系统信息

1. -b 打印文件系统预留的块信息
2. -h 仅显示超级块信息
3. -i 从指定的文件系统映像文件中读取文件的系统信息
4. -x 16进制打印信息

### resize2fs调整ext2/3/4文件系统大小

1. -p 打印完成任务的进度条
2. -f 强制执行

## fsck检查修复文件系统

1. -a 自动
2. -s 按顺序
3. -t 指定检查的文件系统类型
4. -A 依照/etc/fstab配置内容检查
5. -N 不执行指令,仅列出实际胡会执行的动作

### dd

```shell
dd if=<输入> of=<输出> bs=<字节> count=<块数> ibs=<字节数> obs=<字节数> conv=<格式>
```

### mount 挂载

1. -l

2. -a

3. -t

4. -o  可接参数

   

5. -r 只读

6. -w 读写

### umount 卸载

1. -f 强制
2. -l 懒惰的卸载

### df报告文件系统的磁盘空间使用情况

1. -a all
2. -h 
3. -i inode
4. -t 指定类型
5. -T 列出文件系统类型

### mkswap创建交换分区

1. -c 检查坏道
2. -f 强制执行

### swapon激活交换分区 -s

### swapoff关闭交换分区 -a 所有

### sync刷新文件系统缓冲区



## 进程管理

### ps查看进程

1. -a 所有终端下执行的进程
2. a 与终端有关的所有进程
3. x 与终端无关的所有进程
4. u 显示进程的用户信息
5. -u 指定用户的进程信息
6. -e 所有进程信息
7. -f 额外显示UID PPID C 与 STIME栏位
8. f 显示进程树
9. -H 显示进程树
10. -l
11. -o
12. --sort key 排序

### pstree显示进程状态树

pstree option PID/user

1. -a
2. -c
3. -h
4. -n
5. -p
6. -u

### pgrep 查找匹配进程  -u

### kill终止进程

kill option pid

1. -l list
2. -p 
3. -s 指定发送的信号

### killall 

killall option name

### pkill

pkill option name

### top 实时显示系统中各个进程的资源占用状况

### nice调整进程的优先级

## renice

